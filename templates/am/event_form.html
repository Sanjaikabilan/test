{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'research/css/researchproject_form.css' %}">
<link rel="stylesheet" href="{% static 'research/css/common.css' %}">

<style>
    .editor {
        overflow: auto;
    }
    .asteriskField {
        display: none;
    }
    .submitBtn {
        width: fit-content !important;
        margin: 1rem 0;
    }
    .form-control:focus {
        border-color: rgba(133,206,189,255);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(133,206,189,255);
    }
    .form-group {
        margin: 1rem 0;
    }
    .form-group label {
        margin: 0.3rem 0;
    }
    .form-check {
        display: flex;
        align-items: center;
    }
    label.form-check-label {
        margin-left: 0.5rem !important;
    }
    .form-label {
        display: block !important;
    }
    @media screen and (max-width:768px) {
        form {
            width: 100%;
        }
    }
    @media screen and (min-width:768px) {
        form{
            width:75%;
        }
    }
    .btn-sm {
        transform: scale(0.8);
    }
    .btn.btn-primary {
        display: inline-flex;
        background-color: rgba(133,206,189,255);
        border-color: rgba(133,206,189,255);
    }
    input[type="file"] {
        width: 100%;
    }
</style>
{% endblock extra_css %}
    
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-12 formClass">
                <a href="{% url 'am:event-list' %}" class="btn btn-sm btn-primary"><span class="material-symbols-outlined">arrow_back</span></a>

                <h1>
                    {% if 'new' in request.get_full_path %}
                        Add an Event
                    {% else %}
                        Edit
                    {% endif %} Event
                </h1>
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.name | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.name.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.name.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="editor">
                        {{form.description | as_crispy_field}}
                        {% comment %} show field's error {% endcomment %}
                        {% if form.description.errors %}
                            <div class="alert alert-danger" role="alert">
                                {% for error in form.description.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div class="editor">
                        {{form.short_description | as_crispy_field}}
                        {% comment %} show field's error {% endcomment %}
                        {% if form.short_description.errors %}
                            <div class="alert alert-danger" role="alert">
                                {% for error in form.short_description.errors %}
                                    {{ error }}
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.start_date | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.start_date.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.start_date.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.start_time | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.start_time.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.start_time.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.end_date | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.end_date.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.end_date.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.end_time | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.end_time.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.end_time.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.venue | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.venue.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.venue.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.cover_picture | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.cover_picture.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.cover_picture.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.poster | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.poster.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.poster.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.is_this_a_colab | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.is_this_a_colab.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.is_this_a_colab.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.colab_with | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.colab_with.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.colab_with.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.linkedin_post_url | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.linkedin_post_url.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.linkedin_post_url.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-11 col-md-5">
                            {{ form.overall_coordinator | as_crispy_field }}
                            {% comment %} show field's error {% endcomment %}
                            {% if form.overall_coordinator.errors %}
                                <div class="alert alert-danger" role="alert">
                                    {% for error in form.overall_coordinator.errors %}
                                        {{ error }}
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    {{ form.media }}
                    <button style="background-color: rgba(133,206,189,255); color: white; margin-top: 16px;" class="btn shadow d-block w-100 submitBtn" value="Submit" type="submit">Submit </button></div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}

{% endblock extra_js %}
